<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Professor | Sistema de Chamada</title>
    <link rel="icon" href="/assets/favicon.ico" />
    <meta name="theme-color" content="#0a5d54" />
    <link rel="apple-touch-icon" href="/assets/icon-192.png" />
    <link rel="stylesheet" href="/css/styles.css" />
  </head>
  <body>
    <div class="page-shell" data-page="teacher">
      <div class="gov-strip">Diario do Professor â€¢ Frequencia em tempo quase real</div>

      <header class="topbar">
        <div class="topbar-inner">
          <div class="brand">
            <img class="brand-logo" src="/assets/logo.svg" alt="Logo do sistema" />
            <div>
              <div class="brand-title">Diario Integrado</div>
              <div class="brand-subtitle" id="teacher-user-meta">Carregando sessao...</div>
            </div>
          </div>

          <div class="toolbar">
            <a class="btn btn-secondary" href="/admin.html">Admin</a>
            <button id="teacher-logout" class="btn btn-danger" type="button">Sair</button>
          </div>
        </div>
      </header>

      <main class="layout-single">
        <section class="cards">
          <article class="card">
            <h2 class="card-title">Abrir aula</h2>
            <form id="open-session-form" class="form-grid">
              <div class="form-grid cols-2">
                <div>
                  <label for="open-session-turma">Turma</label>
                  <select id="open-session-turma" required></select>
                </div>
                <div>
                  <label for="open-session-subject">Subject ID (opcional)</label>
                  <input id="open-session-subject" type="number" />
                </div>
              </div>

              <div class="form-grid cols-2">
                <div>
                  <label for="open-session-date">Data da aula (opcional)</label>
                  <input id="open-session-date" type="date" />
                </div>
                <div></div>
              </div>

              <div class="form-grid cols-2">
                <div>
                  <label for="open-session-start">Hora inicio</label>
                  <input id="open-session-start" type="time" required />
                </div>
                <div>
                  <label for="open-session-end">Hora fim</label>
                  <input id="open-session-end" type="time" required />
                </div>
              </div>
              <button class="btn btn-primary" type="submit">Abrir aula</button>
            </form>
          </article>

          <article class="card">
            <h2 class="card-title">Resumo da sessao selecionada</h2>
            <div class="cards">
              <div>
                <div class="kpi-label">Presentes</div>
                <div class="kpi-value" id="kpi-presente">0</div>
              </div>
              <div>
                <div class="kpi-label">Atrasados</div>
                <div class="kpi-value" id="kpi-atrasado">0</div>
              </div>
              <div>
                <div class="kpi-label">Ausentes</div>
                <div class="kpi-value" id="kpi-ausente">0</div>
              </div>
              <div>
                <div class="kpi-label">Saiu</div>
                <div class="kpi-value" id="kpi-saiu">0</div>
              </div>
            </div>
          </article>
        </section>

        <section class="cards" style="margin-top: 12px">
          <article class="card table-card">
            <div class="toolbar">
              <button id="btn-refresh-sessions" class="btn btn-secondary" type="button">Atualizar aulas de hoje</button>
            </div>
            <h2 class="card-title">Aulas de hoje</h2>
            <div class="table-wrap">
              <table>
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Turma</th>
                    <th>Horario</th>
                    <th>Acao</th>
                  </tr>
                </thead>
                <tbody id="today-sessions-body"></tbody>
              </table>
            </div>
          </article>

          <article class="card">
            <h2 class="card-title">Correcao manual</h2>
            <form id="manual-attendance-form" class="form-grid">
              <div class="form-grid cols-2">
                <div>
                  <label for="manual-session-id">ID da sessao</label>
                  <input id="manual-session-id" type="number" required />
                </div>
                <div>
                  <label for="manual-matricula">Matricula</label>
                  <input id="manual-matricula" required />
                </div>
              </div>

              <div class="form-grid cols-2">
                <div>
                  <label for="manual-status">Status</label>
                  <select id="manual-status" required>
                    <option value="PRESENT">PRESENT</option>
                    <option value="LATE">LATE</option>
                    <option value="LEFT">LEFT</option>
                  </select>
                </div>
                <div>
                  <label for="manual-justification">Justificativa</label>
                  <input id="manual-justification" required />
                </div>
              </div>

              <button class="btn btn-primary" type="submit">Aplicar ajuste</button>
            </form>
          </article>
        </section>

        <section class="cards" style="margin-top: 12px">
          <article class="card table-card">
            <h2 class="card-title">Frequencia da sessao</h2>
            <div class="table-wrap">
              <table>
                <thead>
                  <tr>
                    <th>Matricula</th>
                    <th>Aluno</th>
                    <th>Primeira entrada</th>
                    <th>Ultima saida</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody id="attendance-table-body"></tbody>
              </table>
            </div>
          </article>

          <article class="card">
            <div class="toolbar">
              <button id="btn-refresh-feed" class="btn btn-secondary" type="button">Atualizar feed</button>
            </div>
            <h2 class="card-title">Feed ao vivo</h2>
            <div class="feed-list" id="live-feed-list"></div>
          </article>
        </section>
      </main>

      <footer data-app-footer></footer>
    </div>

    <script src="/js/core/api.js"></script>
    <script src="/js/core/toast.js"></script>
    <script src="/js/core/modal.js"></script>
    <script src="/js/core/format.js"></script>
    <script src="/js/core/auth.js"></script>
    <script src="/js/components/badges.js"></script>
    <script src="/js/components/table.js"></script>
    <script src="/js/components/footer.js"></script>
    <script src="/js/pages/teacher.js"></script>
  </body>
</html>
